<!DOCTYPE html>
<!-- saved from url=(0061)https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="csrf-token" content="1598096240##a07ceac4be69380f018fc16dc08112c42d2fa802">
    <title>Lab Exercise 6: Throughput, IP Fragmentation and Routing |  COMP3331 20T2 | WebCMS3</title>

    <link rel="icon" href="https://webcms3.cse.unsw.edu.au/static/img/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="https://webcms3.cse.unsw.edu.au/static/img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" id="theme" href="./lab6_files/lightblue.theme.44067b4b68fb1bc5f547f238785c61c1.css">


  <style type="text/css"></style><style type="text/css">.select-box{position:absolute;border:1px solid #ddd;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.1);background:#fff;z-index:1000}.mention{text-decoration:none!important;color:#000!important;background-color:#dce6f8;padding:0;margin-right:.5em}.user-select{list-style-type:none;list-style:none;margin:0;padding:0;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:1.5}.user-select li{display:block;padding:5px 10px;font-weight:600;cursor:pointer;border-bottom:1px solid #ddd}.user-select li small{font-weight:400;color:#767676}.user-select .selected small{color:#fff}.user-select .selected{background-color:#4078c0;color:#fff}</style></head>
  <body role="document" id="webcms3top">
    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://webcms3.cse.unsw.edu.au/">WebCMS3</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
                <li class="active"><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Computer Networks">COMP9331</a></li>
                <li><a href="https://webcms3.cse.unsw.edu.au/COMP9024/20T2/" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Data Structures and Algorithms">COMP9024</a></li>
                <li><a href="https://webcms3.cse.unsw.edu.au/COMP9414/20T2/" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Artificial Intelligence">COMP9414</a></li>


          </ul>
          <ul class="nav navbar-nav navbar-right">
              <li><a href="https://webcms3.cse.unsw.edu.au/search" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Search Courses"><i class="fa fa-search"></i></a></li>
              <li class="dropdown">
                <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                  <div class="nav-profile-mask">
                    <img class="profile_picture" src="./lab6_files/default_avatar.png">
                  </div>
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li><a href="https://webcms3.cse.unsw.edu.au/users/z5235242"><i class="fa fa-user"></i> Profile</a></li>
                  <li><a href="https://webcms3.cse.unsw.edu.au/users/z5235242/settings"><i class="fa fa-cog"></i> Settings</a></li>
                  <li class="divider"></li>
                  <li><a href="https://webcms3.cse.unsw.edu.au/logout"><i class="fa fa-sign-in"></i> Logout</a></li>
                </ul>
              </li>
            </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">

      <div class="row row-offcanvas row-offcanvas-left">
          <div class="col-sm-3 col-md-3 sidebar-offcanvas" id="sidebar" role="navigation">
            <div class="sidebar hidden-print">
  <div class="panel panel-default">
    <!-- Default panel contents -->
    <div class="panel-heading">
      <h4 class="panel-title"><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/">COMP9331</a> <small>20T2</small></h4>
    </div>

  </div>

  <ul class="list-group">
            <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/">Home</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/outline">Course Outline</a>
        </li>
        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#side-menu3" data-toggle="collapse" data-parent=".sidebar">
            Course Work <span class="caret"></span>
          </a>
        </li>
        <ul class="list-group collapse in" id="side-menu3">
                  <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45005">Lectures</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45153">Echo 360 Lecture Recordings</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45214">Labs</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44907">Mid-term Exam</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45154">Assignment</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45220">Final Exam</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44938">Homework Questions</a>
        </li>        <li class="list-group-item ">
          <a href="https://taggi.cse.unsw.edu.au/FAQ/Really_quick_guide_to_VLAB/">VLAB</a>
        </li>

        </ul>
        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/forums/">Forums</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/timetable">Timetable</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/groups/">Groups</a>
        </li>
        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#side-menu7" data-toggle="collapse" data-parent=".sidebar">
            Staff <span class="caret"></span>
          </a>
        </li>
        <ul class="list-group collapse" id="side-menu7">
          

                     <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z2260468">Wen Hu</a>
    <span class="label label-primary">Lecturer</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z3116703">Salil Kanhere</a>
    <span class="label label-primary">Lecturer</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z3004991">Mahbub Hassan</a>
    <span class="label label-primary">Lecturer</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5195667">Ayda Valinezhad Orang</a>
    <span class="label label-primary">Course Admin</span>
  </li>


        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5175209">Nipuna Shanthidewa</a>
    <span class="label label-default">Tutor</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5138589">Mohammadali Yaghoubzadehfard</a>
    <span class="label label-default">Tutor</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5198433">Wei Song</a>
    <span class="label label-default">Tutor</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5231521">Adam Yi</a>
    <span class="label label-default">Tutor</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5189916">Pooja Gupta</a>
    <span class="label label-default">Tutor</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5262974">Isura Nirmal</a>
    <span class="label label-default">Tutor</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5188514">Jiayao Gao</a>
    <span class="label label-default">Tutor</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5168769">Ali Asghar Esmailpour Valmazouyi</a>
    <span class="label label-default">Tutor</span>
  </li>


        </ul>
        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/activities/">Activities</a>
        </li>


  </ul>
  <div class="panel panel-default">
    <div class="panel-footer">

      <div class="pull-right"> 
        <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/users/grades" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Grades"><i class="fa fa-bar-chart"></i></a>
        <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/blogs/" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Blog"><i class="fa fa-comment"></i></a>
        <!--TODO: actual link and change icon-->
        <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/wiki/" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Wiki"><i class="fa fa-asterisk"></i></a>
      </div>
      Tong Zhang<br>
      <small>Student</small>
    </div>
  </div>
  
</div>
          </div>
          <div class="col-sm-9 col-md-9 main">
            <p class="visible-xs hidden-print">
              <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas" id="toggle-menu"><i class="glyphicon glyphicon-chevron-left"></i> Toggle Menu</button>
            </p>
<ol class="breadcrumb">
  <li>Resources</li>

  <li><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44913">Lab Exercises</a></li>
  <li class="active">Lab Exercise 6: Throughput, IP Fragmentation and Routing</li>
</ol>
<div class="page-header with-breadcrumb">
  <h1 style="display:inline;">Lab Exercise 6: Throughput, IP Fragmentation and Routing</h1> 
</div>

<div class="row">
  <div class="col-sm-12">
     <div class="clearfix">


    </div>

  
    <br>

  


    <div role="tabpanel">
      <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#resource_tab" aria-controls="resource_tab" role="tab" data-toggle="tab">Specification</a></li>
        <li role="presentation"><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#submit" aria-controls="submit" role="tab" data-toggle="tab">Make Submission</a></li>
        <li role="presentation"><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#check" id="check-a" aria-controls="check" role="tab" data-toggle="tab">Check Submission</a></li>
        <li role="presentation"><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#collect" id="collect-a" aria-controls="collect" role="tab" data-toggle="tab">Collect Submission</a></li>
      </ul>

      <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="resource_tab">  
          <br>
             <h3>
  <br>
 </h3>
 <table class="table">
  <tbody>
   <tr>
    <td style="text-align: center;">
     <b>
      <span style="font-size: 20px;">
       There are 6 labs during this course. For each student, the 5 best performing labs will contribute to your final lab mark.
       <br>
      </span>
     </b>
    </td>
   </tr>
  </tbody>
 </table>
 <h3>
  Objectives:
 </h3>
 <ul>
  <li>
   Set up simulation in NS2 for TCP throughput measurement
  </li>
  <li>
   gain insights into routing dynamics and IP fragmentation
  </li>
 </ul>
 <p>
  <strong>
   <span style="font-size: 20px;">
    Prerequisites and Links:
   </span>
  </strong>
 </p>
 <ul>
  <li>
   Week 7 and 8 Lectures
  </li>
  <li>
   Relevant Parts of Chapter 4 and Chapter 5 of the textbook
  </li>
  <li>
   <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44919" target="_blank">
    Introduction to Tools of the Trade
   </a>
  </li>
  <li>
   Basic understanding of Linux. A good resource is
   <a href="http://www.ee.surrey.ac.uk/Teaching/Unix/">
    here
   </a>
   but there are several other resources online.
  </li>
  <li>
   Introduction to ns-2 from Labs 4 and 5.
  </li>
  <li>
   <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45204" target="_blank">
    exercise2.tcl
   </a>
  </li>
  <li>
   <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45186" target="_blank">
    TCPThroughput.png
   </a>
  </li>
  <li>
   <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45205" target="_blank">
    IPfrag_trace
   </a>
  </li>
  <li>
   <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45183" target="_blank">
    tp_routing.tcl
   </a>
  </li>
 </ul>
 <h3>
  Marks:
  <strong>
   10 marks.
  </strong>
 </h3>
 <ul>
  <li>
   This lab comprises of a number of exercises. You have to submit a report containing answers to questions in all exercises.
  </li>
  <li>
   Please attend the lab in your allotted time slot.
  </li>
  <li>
   We expect the students to go through as much of the lab exercises as they can at home and come to the lab for clarifying any doubts in procedure/specifications.
  </li>
 </ul>
 <p>
  <strong>
   <span style="font-size: 20px;">
    Deadline:
   </span>
  </strong>
  <br>
 </p>
 <p>
  <strong>
   09:45 am
  </strong>
  <strong>
   Tuesday 04/08/2020.
  </strong>
  You can submit as many times as you wish before the deadline. A later submission will override the earlier submission, so make sure you submit the correct file. Do not leave until the last moment to submit, as there may be technical or communications error and you will not have time to rectify it.
 </p>
 <p>
  <span style="font-size: 20px;">
   <strong>
    Late Report Submission Penalty:
   </strong>
  </span>
  <br>
 </p>
 <p>
  Late penalty will be applied as follows:
 </p>
 <ul>
  <li>
   1 day after deadline: 20% reduction
  </li>
  <li>
   2 days after deadline: 40% reduction
  </li>
  <li>
   3 or more days late: NOT accepted
  </li>
 </ul>
 <p>
  Note that the above penalty is applied to your final mark in report. For example, if you submit your lab work report 2 days late and your score on the lab report is 8, then your final mark will be 8 - 3.2 (40% penalty) = 4.8.
 </p>
 <h3>
  Submission Instructions:
  <br>
 </h3>
 <p>
  Submit a PDF document
  <b>
   Lab6.pdf
  </b>
  with answers to all questions for all exercises. To include all supporting files, create a tar archive of all the files called
  <b>
   Lab6.tar.
  </b>
  Submit the archive using give or WebCMS3 interface. You can submit from a lab machine or ssh into the CSE login server.
 </p>
 <h3>
  Original Work Only:
 </h3>
 <p>
  You are strongly encouraged to discuss the questions with other students in your lab. However, each student must submit his or her own work. You may need to refer to the material indicated above and also conduct your own research to answer the questions.
 </p>
 <p>
  <b>
   <span style="font-size: 20px;">
    OS Compatibility:
   </span>
  </b>
 </p>
 <p>
  <b>
   <span style="font-size: 20px;">
   </span>
  </b>
  The provided script (for ns-2) have been tested on CSE Linux machines. They may not work on your personal machine even if you have installed ns-2. As such, we suggest that you work on a CSE machine to complete these lab exercises. You can do so by going to a lab in person or via ssh/vlab.
 </p>
 <h3>
  <b>
   Exercise 1: Setting up NS2 simulation for measuring TCP throughput
  </b>
  <br>
 </h3>
 <p>
  <b>
   <span style="font-size: 20px;">
    (submit the completed file exercise2.tcl and throughput.plot separately and answer the questions on throughput behaviour in the report)
   </span>
  </b>
 </p>
 <p>
  Consider the topology shown in the following figure where bandwidth and delay for each link is shown.
  <br>
 </p>
 <p>
  <img src="./lab6_files/Picture1.png">
 </p>
 <p>
  You have been provided with a stub tcl file
  <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45204" target="_blank">
   exercise2.tcl
  </a>
  . Your task is to complete the stub file so that it runs with ns and produces two trace files tcp1.tr and tcp2.tr, and nam.out. Check the animation for the simulation using nam.out file. Next write a script named "throughput.plot" (referenced from within exercise2.tcl in procedure  finish( ) ) to plot the throughput received by host n5 for two flows terminating at n5. Uncomment the line (#exec gnuplot throughput.plot &amp;) to execute gnuplot. You have been provided with the throughput plot
  <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45186" target="_blank">
   TCPThroughput.png
  </a>
  produced by gnuplot for comparing your final output.
 </p>
 <p>
  "&gt;&gt;" in the stub file indicates that one (or more) lines need to be added. Remove the "&gt;&gt;" and insert the required code.
 </p>
 <p>
  Consider the following traffic pattern for your simulation.
 </p>
 <p>
  FTP/TCP Source n0 -&gt; TCP Sink n5 : start time: 0.5 sec End time: 8.5 sec
 </p>
 <p>
  FTP/TCP Source n3 -&gt; TCP Sink n5 : start time: 2.0 sec End time: 9.5 sec
 </p>
 <p>
  FTP/TCP Source n7 -&gt; TCP Sink n0 : start time: 3.0 sec End time: 9.5 sec
 </p>
 <p>
  FTP/TCP Source n7 -&gt; TCP Sink n3 : start time: 4.0 sec End time: 7.0 sec
 </p>
 <p>
  You have to submit your completed tcl file (exercise2.tcl) and the script (throughput.plot) for producing the throughput plot. Comment on the throughput behaviour observed in the simulation by answering the following questions.
 </p>
 <strong>
  Question 1:
 </strong>
 Why the throughput achieved by flow tcp2 is higher than tcp1 between time span 6 sec to 8 sec?
 <br>
 <strong>
  Question 2:
 </strong>
 Why the throughput for flow tcp1 is fluctuating between time span 0.5 sec to 2 sec?
 <p>
  <strong>
   Question 3:
  </strong>
  Why is the maximum throughput achieved by any one flow capped at around 2.5Mbps?
 </p>
 <p>
  <b>
   <span style="font-size: 20px;">
    Exercise 2: Understanding IP Fragmentation
   </span>
  </b>
  <br>
 </p>
 <p>
  <span style="font-size: 18px;">
   (Include in your report)
  </span>
 </p>
 <p>
  We will try to find out what happens when IP fragments a datagram by increasing the size of a datagram until fragmentation occurs. You are provided with a Wireshark trace file
  <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45205" target="_blank">
   IPfrag_trace
  </a>
  that contains trace of sending pings with specific payloads to 8.8.8.8. We have used ping with option ( – s option on Linux) to set the size of data to be carried in the ICMP echo request message. Note that the default packet size is 64 bytes in Linux (56 bytes data + 8 bytes ICMP header). Also note that Linux implementation for ping also uses 8 bytes of ICMP time stamp option leaving 48 bytes for the user data in the default mode. Once you have send a series of packets with the increasing data sizes, IP will start fragmenting packets that it cannot handle. We have used the following commands to generate this trace file.
  <br>
 </p>
 <p>
  Step 1: Ping with default packet size to the target destination as 8.8.8.8
  <br>
 </p>
 <pre>ping -c 3 8.8.8.8</pre>
 <p>
  Step 2: Repeat by sending a set of ICMP requests with data of 2000.
 </p>
 <pre>ping -s 2000 -c 3 8.8.8.8</pre>
 <p>
  Step 3: Repeat again with data size set as 3500
 </p>
 <pre>ping -s 3500 -c 3 8.8.8.8</pre>
 <p>
  Load this trace file in Wireshark, filter on protocol field ICMP (you may need to clear the filter to see the fragments) and answer the following questions.
 </p>
 <p>
  <strong>
   Question 1:
  </strong>
  Which data size has caused fragmentation and why? Which host/router has fragmented the original datagram? How many fragments have been created when data size is specified as 2000?
 </p>
 <p>
  <strong>
   Question 2:
  </strong>
  Did the reply from the destination 8.8.8.8. for 3500-byte data size also get fragmented? Why and why not?
 </p>
 <p>
  <strong>
   Question 3:
  </strong>
  Give the ID, length, flag and offset values for all the fragments of the first packet sent by 192.168.1.103 with data size of 3500 bytes?
 </p>
 <p>
  <strong>
   Question 4:
  </strong>
  Has fragmentation of fragments occurred when data of size 3500 bytes has been used? Why and why not?
 </p>
 <p>
  <strong>
   Question 5:
  </strong>
  What will happen if for our example one fragment of the original datagram from 192.168.1.103 is lost?
 </p>
 <h3>
  Exercise 3: Understanding the Impact of Network Dynamics on Routing
  <br>
 </h3>
 <p>
  <span style="font-size: 18px;">
   (include in your report)
  </span>
 </p>
 <p>
  In this exercise, we will observe how routing protocols react when network conditions change (e.g., a network link fails) using a ns-2 simulation.
 </p>
 <p>
  The provided script,
  <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45183" target="_blank">
   tp_routing.tcl
  </a>
  takes no arguments and generates the network topology shown in the figure below.
 </p>
 <p>
  <img src="./lab6_files/Screen_Shot_2016-09-06_at_5.43.33_PM.png">
 </p>
 <p>
  You can run the simulation with the following command:
  <br>
 </p>
 <pre>$ns tp_routing.tcl</pre>
 <p>
  Step 1: Run the script and observe the NAM window output.
 </p>
 <p>
  <strong>
   Question 1:
  </strong>
  Which nodes communicate with which other nodes? Which route do the packets follow? Does it change over time?
 </p>
 <p>
  <strong>
   Note:
  </strong>
  You can also answer the above question by examining the simulation setting in the script file.
 </p>
 <p>
  Step 2: Modify the script by uncommenting the following two lines (line No 84 and 85):
 </p>
 <pre>$ns rtmodel-at 1.0 down $n1 $n4 
$ns rtmodel-at 1.2 up $n1 $n4 </pre>
 <p>
  Step 3: Rerun the simulation and observe the NAM window output.
 </p>
 <p>
  <strong>
   NOTE:
  </strong>
  Ignore the NAM syntax warnings on the terminal. These will not affect the simulation.
 </p>
 <p>
  <strong>
   Question 2:
  </strong>
  What happens at time 1.0 and at time 1.2? Does the route between the communicating nodes change as a result of that?
 </p>
 <p>
  Step 4: The nodes in the simulation above use a static routing protocol (i.e., preferred routes do not change over time). We are going to change that, so that they use a Distance-Vector routing protocol. Modify the script and uncomment the following line (Line No 16) before the definition of the
  <tt>
   finish
  </tt>
  procedure.
 </p>
 <pre>$ns rtproto DV</pre>
 <p>
  Step 5: Rerun the simulation and observe the NAM window output.
 </p>
 <p>
  <strong>
   Question 3:
  </strong>
  Did you observe any additional traffic as compared to Step 3 above? How does the network react to the changes that take place at time 1.0 and time 1.2 now?
 </p>
 <p>
  Step 6: Comment the two lines (Lines 84 and 85) that you had added to the script in Step 2 and uncomment the following line ( Line 87) instead:
 </p>
 <pre>$ns cost $n1 $n4 3</pre>
 <p>
  Step 7: Rerun the simulation and observe the NAM window output.
 </p>
 <p>
  <strong>
   Question 4:
  </strong>
  How does this change affect the routing? Explain why.
 </p>
 <p>
  Step 8: Comment line 87 and Uncomment the following lines (Lines 89 and 90):
 </p>
 <pre>$ns cost $n1 $n4 2 
$ns cost $n3 $n5 3</pre>
 <p>
  and uncomment the following (Line 29), which is located right after the finish procedure definition:
 </p>
 <pre>Node set multiPath_ 1</pre>
 <p>
  Step 9: Rerun the simulation and observe the NAM window output.
 </p>
 <p>
  <strong>
   Question 5:
  </strong>
  Describe what happens and deduce the effect of the line you just uncommented.
 </p>
            <div class="clearfix">
              <p class="pull-left"><small>Resource created <abbr class="timeago" title="Wednesday 29 April 2020, 03:56:57 PM">4 months ago</abbr>, last modified <abbr class="timeago" title="Friday 31 July 2020, 09:10:39 AM">22 days ago</abbr>.</small></p>
            </div>


        </div>
        <div role="tabpanel" class="tab-pane " id="submit"> 
          <br>
          <div class="alert alert-info">
            <i class="fa fa-info-circle"></i> You can also submit using <code>give cs3331 Lab6 file1 file2 file3 ...</code>
          </div>
          <div class="alert alert-info"><i class="fa fa-info-circle"></i> Hold CTRL when clicking files to upload multiple files at the same time.</div>
          <div class="text-center" id="submissionspin" hidden="">
            <h1><i class="fa fa-circle-o-notch fa-spin"></i></h1>
            <h4>Submitting...</h4>
          </div>
          <pre id="submissionpre" hidden=""></pre>
          <div id="submissionform">
            <form id="submissionform" method="post" action="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#" enctype="multipart/form-data">
              <fieldset>
                <div style="display:none;"><input id="csrf_token" name="csrf_token" type="hidden" value="1598096240##a07ceac4be69380f018fc16dc08112c42d2fa802"></div>
                  <div class="form-group ">
      <label class="control-label">Submission Files*</label>
    <div class="input-group">
      <span class="input-group-btn">
        <span class="btn btn-primary btn-file">
          <i class="fa fa-folder-open"></i> Browse… <input id="files" multiple="" name="files" type="file">
        </span>
      </span>
      <input type="text" class="form-control" readonly="">
    </div>
  </div>

              </fieldset>
              <button type="submit" class="btn btn-primary">
                <i class="fa fa-upload"></i> Submit
              </button>
            </form>
            <br>
          </div>
        </div>
        <div role="tabpanel" class="tab-pane" id="check">    
          <br>
          <div class="alert alert-info">
            <i class="fa fa-info-circle"></i> You can also check your submission using <code>3331 classrun -check Lab6</code>
          </div>
          <div class="text-center" id="checkspin">
            <h1><i class="fa fa-circle-o-notch fa-spin"></i></h1>
            <h4>Fetching...</h4>
          </div>
          <pre id="checkpre" hidden=""></pre>
        </div>
        <div role="tabpanel" class="tab-pane" id="collect">
          <br>
          <div class="alert alert-info">
            <i class="fa fa-info-circle"></i> You can also collect your submission using <code>3331 classrun -collect Lab6</code>
          </div>
          <div class="text-center" id="collectspin">
            <h1><i class="fa fa-circle-o-notch fa-spin"></i></h1>
            <h4>Fetching...</h4>
          </div>
          <pre id="collectpre" hidden=""></pre>
        </div>
      </div>
    </div>
    <div class="panel panel-default"><div class="panel-heading clearfix"><h3 class="panel-title">
      Comments
      <div role="group" class="btn-group btn-group-xs pull-right comment-frame-header"><a title="Click to Subscribe" class="btn btn-default btn-xs"><i class="fa fa-bookmark-o"></i></a> <a title="Search" href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/forums/search?forum_choice=resource/44917" class="btn btn-default btn-xs"><i class="fa fa-search"></i></a> <a title="Forum View" href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/forums/resource/44917" class="btn btn-default btn-xs"><i class="fa fa-comments"></i></a></div></h3></div> <div class="panel-body"><!----> <div style="position: relative;"><i class="fa fa-fw fa-comment-o" style="position: absolute; padding: 10px; color: rgb(153, 153, 153);"></i> <input type="text" placeholder="Add a comment" class="form-control" style="padding-left: 30px;"></div> <!----> <hr> <ul class="comment-wrapper"><li class="comment dark"><!----> <div class="profile-mask"><img src="./lab6_files/default_avatar.png" class="comment-profile"></div> <div class="comment-content"><header><a href="https://webcms3.cse.unsw.edu.au/users/z5257706">Sameer Mahmud</a><small><span><abbr title="Sun Aug 02 2020 17:57:49 GMT+0800 (China Standard Time)">20 days ago</abbr><!----></span></small></header> <div class="comment-body"> <p>
  Bit confused regarding coding up throughput.plot, my program returns x-range is invalid. How do you set up the x-range and y-range in the code?
 </p></div> <footer><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#">Reply</a><!----><!----></footer></div> <!----> <!----> <ul class="replies"><li class="comment light"><!----> <div class="profile-mask"><img src="./lab6_files/default_avatar.png" class="comment-profile"></div> <div class="comment-content"><header><a href="https://webcms3.cse.unsw.edu.au/users/z5262974">Isura Nirmal</a><small><span><abbr title="Mon Aug 03 2020 19:11:44 GMT+0800 (China Standard Time)">19 days ago</abbr><!----></span></small></header> <div class="comment-body"> <p>
  Hi Sameer, My instructions to the students were to look at following two examples we have discussed in previous labs and reuse the code. Hope this helps as coding from the scratch would introduce lots of errors.
 </p>
 <p>
  <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45210">
   https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45210
  </a>
  <br>
 </p>
 <p>
  <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45197">
   https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45197
  </a>
  <br>
 </p>
 <p>
  <br>
 </p></div> <footer><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#">Reply</a><!----><!----></footer></div> <!----> <!----> <ul class="replies"></ul></li></ul></li><li class="comment dark"><!----> <div class="profile-mask"><img src="./lab6_files/default_avatar.png" class="comment-profile"></div> <div class="comment-content"><header><a href="https://webcms3.cse.unsw.edu.au/users/z5292438">Julian Alfonso Ponce</a><small><span><abbr title="Sun Aug 02 2020 13:13:53 GMT+0800 (China Standard Time)">20 days ago</abbr><!----></span></small></header> <div class="comment-body"> <p>
  Should it be `nam.out` or `out.nam` ? The spec says `nam.out` the stub says `out.nam`
 </p></div> <footer><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#">Reply</a><!----><!----></footer></div> <!----> <!----> <ul class="replies"><li class="comment light"><!----> <div class="profile-mask"><img src="./lab6_files/default_avatar.png" class="comment-profile"></div> <div class="comment-content"><header><a href="https://webcms3.cse.unsw.edu.au/users/z5262974">Isura Nirmal</a><small><span><abbr title="Mon Aug 03 2020 19:13:28 GMT+0800 (China Standard Time)">19 days ago</abbr><!----></span></small></header> <div class="comment-body"> <p>
  Hi Julian, It should be out.nam
 </p></div> <footer><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#">Reply</a><!----><!----></footer></div> <!----> <!----> <ul class="replies"></ul></li></ul></li><li class="comment dark"><!----> <div class="profile-mask"><img src="./lab6_files/74572015_970375103321364_3368581590857809920_n.jpg" class="comment-profile"></div> <div class="comment-content"><header><a href="https://webcms3.cse.unsw.edu.au/users/z5160405">Nathan Ellis</a><small><span><abbr title="Tue Jul 28 2020 22:36:46 GMT+0800 (China Standard Time)">25 days ago</abbr><!----></span></small></header> <div class="comment-body"> <p>
  Hi, it looks like the maximum file size for this submission has been set to 250kb.  Woudl it be possible to adjust this to allow for larger file sizes (especially since we are including a PDF in our submissions)? Thanks :)
 </p></div> <footer><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#">Reply</a><!----><!----></footer></div> <!----> <!----> <ul class="replies"><li class="comment light"><!----> <div class="profile-mask"><img src="./lab6_files/default_avatar.png" class="comment-profile"></div> <div class="comment-content"><header><a href="https://webcms3.cse.unsw.edu.au/users/z5228211">Longjuan Sun</a><small><span><abbr title="Tue Jul 28 2020 23:22:10 GMT+0800 (China Standard Time)">25 days ago</abbr><!----></span></small></header> <div class="comment-body"> <p>
  You can try to compress it to reduce the size.
 </p>
 <p>
  You can goole some online tool to do that.
 </p></div> <footer><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#">Reply</a><!----><!----></footer></div> <!----> <!----> <ul class="replies"><li class="comment dark"><!----> <div class="profile-mask"><img src="./lab6_files/74572015_970375103321364_3368581590857809920_n.jpg" class="comment-profile"></div> <div class="comment-content"><header><a href="https://webcms3.cse.unsw.edu.au/users/z5160405">Nathan Ellis</a><small><span><abbr title="Wed Jul 29 2020 10:59:58 GMT+0800 (China Standard Time)">24 days ago</abbr><!----></span></small></header> <div class="comment-body"> <p>
  My previous lab submissions have been much larger than 250kb, so I don't think we should be expected to compress these submissions even further?
 </p></div> <footer><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#">Reply</a><!----><!----></footer></div> <!----> <!----> <ul class="replies"></ul></li></ul></li></ul></li><li class="comment dark"><!----> <div class="profile-mask"><img src="./lab6_files/default_avatar.png" class="comment-profile"></div> <div class="comment-content"><header><a href="https://webcms3.cse.unsw.edu.au/users/z5272300">Maher Mesto</a><small><span><abbr title="Tue Jul 28 2020 21:46:42 GMT+0800 (China Standard Time)">25 days ago</abbr><!----></span></small></header> <div class="comment-body"> <p>
  Hi Wen,
 </p>
 <p>
  I did set the nodes and their relations in
  <a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/45204" target="_blank">
   exercise2.tcl
  </a>
  but nothing else. Are we supposed to know how to create this code?
 </p>
 <p>
  Thx.
 </p></div> <footer><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#">Reply</a><!----><!----></footer></div> <!----> <!----> <ul class="replies"><li class="comment light"><!----> <div class="profile-mask"><img src="./lab6_files/default_avatar.png" class="comment-profile"></div> <div class="comment-content"><header><a href="https://webcms3.cse.unsw.edu.au/users/z5262974">Isura Nirmal</a><small><span><abbr title="Wed Jul 29 2020 12:11:04 GMT+0800 (China Standard Time)">24 days ago</abbr><!----></span></small></header> <div class="comment-body"> <p>
  HI Maher, The objective of that exersice is to generate the plot provided with the lab. You need to complete the .tcl file as well as code the throughput.plot. Then you need to uncomment the corresponding line in the finish procedure to execute the plotting script so that it generates the plot. If you did this right, you would see the plot provided with the exersice generated.
 </p></div> <footer><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#">Reply</a><!----><!----></footer></div> <!----> <!----> <ul class="replies"><li class="comment dark"><!----> <div class="profile-mask"><img src="./lab6_files/default_avatar.png" class="comment-profile"></div> <div class="comment-content"><header><a href="https://webcms3.cse.unsw.edu.au/users/z5156345">Eu Shaun Lim</a><small><span><abbr title="Sun Aug 02 2020 03:15:53 GMT+0800 (China Standard Time)">21 days ago</abbr>, last modified <abbr title="Sun Aug 02 2020 03:16:20 GMT+0800 (China Standard Time)">21 days ago</abbr></span></small></header> <div class="comment-body"> <p>
  Hi, I've completed most of the code in the tcl file but I'm not sure what the three "&gt;&gt;" is supposed to be inside the record procedure. Can you give me some hints?
 </p></div> <footer><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#">Reply</a><!----><!----></footer></div> <!----> <!----> <ul class="replies"><li class="comment light"><!----> <div class="profile-mask"><img src="./lab6_files/default_avatar.png" class="comment-profile"></div> <div class="comment-content"><header><a href="https://webcms3.cse.unsw.edu.au/users/z5244712">Liam Flynn</a><small><span><abbr title="Mon Aug 03 2020 21:46:30 GMT+0800 (China Standard Time)">19 days ago</abbr><!----></span></small></header> <div class="comment-body"> <p>
  I have the same issue
 </p></div> <footer><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#">Reply</a><!----><!----></footer></div> <!----> <!----> <ul class="replies"></ul></li></ul></li></ul></li></ul></li></ul> <!----> <!----> <!----></div></div>
  </div>
</div>
          </div>
      </div>
      <div class="row hidden-print">
        <div class="col-sm-12">
          <hr>
          <p class="pull-right"><a href="https://webcms3.cse.unsw.edu.au/COMP3331/20T2/resources/44917#webcms3top">Back to top <i class="fa fa-caret-up"></i></a></p>
          <div class="pull-left">

          <strong>COMP3331/COMP9331 20T2 (Computer Networks)</strong>
          is powered by <a href="https://webcms3.cse.unsw.edu.au/about">WebCMS3</a>
          <h6><small>CRICOS Provider No. 00098G</small></h6>
        </div>
      </div>
    </div>


    <script src="./lab6_files/manifest.cfb3a155968bb33441c3.js"></script>
    <script src="./lab6_files/vendor.ccafba1973f262c84499.js"></script>
    <script src="./lab6_files/app.b49dff5297717517af10.js"></script>


  <script type="text/javascript">
    function get_submissioninfo(item, url) {
      $('#' + item + "-a").one('click', function() {
        $.ajax({
          url: url,
          type: "GET",
          dataType: "json"
        })
        .done(function(data) {
          $("#" + item + "spin").hide();
          $("#" + item + "pre").show();
          $('#' + item + 'pre').text(data["message"]);
        })
        .fail(function() {
          $("#" + item + "spin").hide();
          $("#" + item + "pre").show();
          $('#' + item + 'pre').text("An unexpected error has occurred.");
        });
      });
    }
    get_submissioninfo('check', "/COMP3331/20T2/activities/submissions/api/check/Lab6/z5235242");
    get_submissioninfo('collect', "/COMP3331/20T2/activities/submissions/api/collect/Lab6/z5235242");

    /*
    $("#submissionform").submit(function() {
      $("#submissionform").hide();
      $('#submissionpre').hide();
      $('#submissionspin').show();

      var url = "/COMP3331/20T2/activities/submissions/api/give/Lab6/z5235242";
      
      var formData = new FormData();

      $.ajax({
          url: url,
          type: 'POST',
          data: formData,
          processData: false,
          contentType: false,
          dataType: "json"
      })
      .done(function(data) {
        $('#submissionspin').hide();
        $('#submissionpre').text(data["message"]);
        $('#submissionpre').show();
        $('#submissionform').show();
      })
      .fail(function() {
        $('#submissionspin').hide();
        $('#submissionpre').text("An unexpected error has occurred.");
        $('#submissionpre').show();
        $('#submissionform').show();
      });

      return false;
    });
    */
  </script>

<script>

    webcms.renderComments("#messaging-wrapper", {
      object_type: 'resource',
      object_id: 44917,
      url: '/messages/',
      course: '3314',
  });

</script>

<script>
$(function() {
  $('*[data-bootbox="resource-delete-heading"]').each(function() {
    $(this).click(function(e) {
      e.preventDefault();
      var location = $(this).attr('href');
      bootbox.dialog({
        message: "Are you sure you wish to delete this resource heading?",
        buttons: {
          main: {
            label: "No",
            className: "btn-default",
            callback: function() { }
          },
          children: {
            label: "Yes, and delete all children too",
            className: "btn-primary",
            callback: function() {
              window.location.replace(location + "?children=1");
            }
          },
          just: {
            label: "Yes, and move children to parent",
            className: "btn-primary",
            callback: function() {
              window.location.replace(location);
            }
          }
        }
      });
    });
  });

});
</script>

<script>
$(function() {
  $('*[data-bootbox="resource-delete"]').each(function() {
    $(this).click(function(e) {
      e.preventDefault();
      var location = $(this).attr('href');

      bootbox.confirm("Are you sure you wish to delete this resource?", function(confirmed) {
        if (confirmed) {
          window.location.replace(location);
        }
      });
    });
  });
});
</script>



    <script>
      jQuery.timeago.settings.allowFuture = true;

      $(function() {
        $('*[id^="redactor"]').each(function () {
          $(this).redactor({
            imageUpload: "/files/redactor/upload",
            plugins: ['table', 'fontsize', 'fontcolor', 'video', 'template']
          });

        });
          $('.redactor').redactor({
            imageUpload: "/files/redactor/upload",
            plugins: ['table', 'fontsize', 'fontcolor', 'video', 'template']
          });
      });

      $(document).ready(function() {
        /* hack to remove awful extra padding */
        $('.redactor-box').attr('style', 'margin: 0 !important; padding: 0 !important;');

        /* force text cursor in redactor editing field */
        $('.redactor-editor').each(function () {
          $(this).attr('style', 'cursor: text;');
        });
      });

      $(document).ready(function() {
        $('[data-toggle=buttons]').click(function() {
          /* hack to get toolbar to show */
          setTimeout(function() {$('.redactor').scroll()}, 0);
        });
      });

    </script>
    <script>
        $(document).on('change', '.btn-file :file', function() {
          var input = $(this),
              numFiles = input.get(0).files ? input.get(0).files.length : 1,
              label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
          input.trigger('fileselect', [numFiles, label]);
        });

        $(document).ready( function() {
            $('.btn-file :file').on('fileselect', function(event, numFiles, label) {
                var input = $(this).parents('.input-group').find(':text'),
                    log = numFiles > 1 ? numFiles + ' files selected' : label;
                if (input.length) {
                    input.val(log);
                } else {
                    if (log) alert(log);
                }
            });
        });

      $('[data-toggle="popover"]').popover();
    </script>

    <script type="text/javascript">
      jQuery(document).ready(function() {
        jQuery("abbr.timeago").timeago();
      });

      $(function() {
        $('[data-toggle="tooltip"]').tooltip()
      })
      $(document).ready(function() {
        $('[data-toggle=offcanvas]').click(function() {
          $('.row-offcanvas').toggleClass('active');
        });
      });
    </script>




  
</div></body></html>